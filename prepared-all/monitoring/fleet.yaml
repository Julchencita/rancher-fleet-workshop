defaultNamespace: cattle-monitoring-system

helm:
  releaseName: rancher-monitoring
  repo: https://charts.rancher.io
  chart: rancher-monitoring
  version: 100.1.3+up19.0.3
  values:
    prometheus:
      ingress:
        enabled: true
        annotations:
          cert-manager.io/cluster-issuer: selfsigned-cluster-issuer
          nginx.ingress.kubernetes.io/auth-type: basic
          nginx.ingress.kubernetes.io/auth-secret: prometheus-basic-auth
        paths:
          - /
        pathType: Prefix


targetCustomizations:
- name: bhofmann-test
  helm:
    values:
      prometheus:
        ingress:
          hosts:
            - prometheus.10.65.0.107.sslip.io
          tls:
            - secretName: prometheus-ingress-tls
              hosts:
                - prometheus.10.65.0.107.sslip.io
  clusterName: bhofmann-test
- name: edge-clusters
  helm:
    values:
      grafana:
        enabled: false
  clusterSelector:
    matchLabels:
      role: edge

dependsOn:
  - name: bhofmann-test-prepared-all-cert-manager-issuer
  - name: bhofmann-test-prepared-all-monitoring-crd
